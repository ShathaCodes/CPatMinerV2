<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>a4fabc013e476854d5ea70aab139d79b4fd98215,android/guava/src/com/google/common/hash/BloomFilter.java,BloomFilter,readFrom,#InputStream#Funnel#,527
</h3><h3>Before Change</h3><pre><code class='java'>
      dataLength = din.readInt();

      Strategy strategy = BloomFilterStrategies.values()[strategyOrdinal];
      long[] <a id="change">data</a> = <a id="change">new long[dataLength]</a>;
      for (int i = 0; i &lt; <a id="change">data.length</a>; i++) {
        data[i] = din.<a id="change">readLong()</a>;
      }
      return new BloomFilter&lt;T&gt;(<a id="change">new LockFreeBitArray(data</a><a id="change">)</a>, numHashFunctions, funnel, strategy);
    } catch (RuntimeException e) {
      String message =
          "Unable to deserialize BloomFilter from InputStream."</code></pre><h3>After Change</h3><pre><code class='java'>

      LockFreeBitArray dataArray = new LockFreeBitArray(LongMath.checkedMultiply(dataLength, 64L));
      for (int i = 0; i &lt; dataLength; i++) {
        dataArray.putData(i, din.<a id="change">readLong()</a>);
      }

      return new BloomFilter&lt;T&gt;(dataArray, numHashFunctions, funnel, strategy);</code></pre>