<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>bb91f4e888b438d2c6bb071bfb826b229dc09faf,guava/src/com/google/common/util/concurrent/Monitor.java,Monitor,waitFor,#Guard#,609
</h3><h3>Before Change</h3><pre><code class='java'>
   * called only by a thread currently occupying this monitor.
   */
  public void waitFor(Guard guard) throws InterruptedException {
    <a id="change">if (</a>guard.monitor<a id="change"> != </a>this<a id="change">) </a>{
      <a id="change">throw </a><a id="change">new IllegalMonitorStateException()</a>;
    }
    if (!lock.<a id="change">isHeldByCurrentThread()</a>) {
      throw new IllegalMonitorStateException();
    }
    waitInterruptibly(guard, true);</code></pre><h3>After Change</h3><pre><code class='java'>
   * called only by a thread currently occupying this monitor.
   */
  public void waitFor(Guard guard) throws InterruptedException {
    if (<a id="change">!</a>((guard.monitor<a id="change"> == </a>this)<a id="change"> & </a>lock.<a id="change">isHeldByCurrentThread()</a>)) {
      throw new IllegalMonitorStateException();
    }
    if (!<a id="change">guard</a>.<a id="change">isSatisfied()</a>) {
      await(guard, true);
    }
  }</code></pre>