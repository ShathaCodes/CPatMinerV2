<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>9656d92aa0164845760762769db4b2e786443e0e,guava-tests/test/com/google/common/graph/AbstractGraphTest.java,AbstractGraphTest,validateGraph,#Graph#,118
</h3><h3>Before Change</h3><pre><code class='java'>

    Set&lt;EndpointPair&lt;N&gt;&gt; allEndpointPairs = new HashSet&lt;EndpointPair&lt;N&gt;&gt;();

    <a id="change">for (</a>N node : graph.nodes()<a id="change">) </a>{
      assertThat(nodeString).contains(node.toString());

      sanityCheckCollection(graph.adjacentNodes(node));
      <a id="change">sanityCheckCollection(</a>graph.predecessors(node)<a id="change">)</a>;
      sanityCheckCollection(graph.successors(node));

      if (graph.isDirected()) {</code></pre><h3>After Change</h3><pre><code class='java'>

    Set&lt;EndpointPair&lt;N&gt;&gt; allEndpointPairs = new HashSet&lt;EndpointPair&lt;N&gt;&gt;();

    <a id="change">for (</a>N node : sanityCheckSet(graph.nodes())<a id="change">) </a>{
      assertThat(nodeString).contains(node.toString());

      if (graph.isDirected()) {
        assertThat(graph.degree(node))
            .isEqualTo(graph.predecessors(node).size() + graph.successors(node).size());
        assertThat(graph.predecessors(node)).hasSize(graph.inDegree(node));
        assertThat(graph.successors(node)).hasSize(graph.outDegree(node));
      } else {
        Set&lt;N&gt; neighbors = graph.adjacentNodes(node);
        assertThat(graph.degree(node))
            .isEqualTo(neighbors.size() + (neighbors.contains(node) ? 1 : 0));
        assertThat(graph.inDegree(node)).isEqualTo(graph.degree(node));
        assertThat(graph.outDegree(node)).isEqualTo(graph.degree(node));
      }

      for (N adjacentNode : sanityCheckSet(graph.adjacentNodes(node))) {
        if (!graph.allowsSelfLoops()) {
          assertThat(node).isNotEqualTo(adjacentNode);
        }
        assertThat(
                graph.predecessors(node).contains(adjacentNode)
                    || graph.successors(node).contains(adjacentNode))
            .isTrue();
      }

      for (N predecessor : <a id="change">sanityCheckSet(</a>graph.predecessors(node)<a id="change">)</a>) {
        assertThat(graph.successors(predecessor)).contains(node);
      }
</code></pre>