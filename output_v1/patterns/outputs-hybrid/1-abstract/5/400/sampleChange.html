<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>9afafaaabb7c19ac21871c0730f1ab1497d7349e,guava-tests/test/com/google/common/collect/ImmutableSetTest.java,ImmutableSetTest,testResistsHashFloodingOnContains,#,550
</h3><h3>Before Change</h3><pre><code class='java'>
    int smallSize = haveSameHashesSmall.size();
    int largeSize = haveSameHashesLarge.size();

    <a id="change">assertThat(</a>ratio<a id="change">)</a>
        .<a id="change">named(
            </a>"ratio of equals/hashCode/compareTo operations to worst-case query an ImmutableSet "
                + "of size %s versus size %s",
            haveSameHashesLarge.size(), haveSameHashesSmall.size()<a id="change">)</a>
        .isAtMost(2 * Math.log(largeSize) / Math.log(smallSize));
    // We allow up to 2x wobble in the constant factors.
  }
</code></pre><h3>After Change</h3><pre><code class='java'>
    int smallSize = haveSameHashesSmall.size();
    int largeSize = haveSameHashesLarge.size();

    <a id="change">assertWithMessage(
            </a>"ratio of equals/hashCode/compareTo operations to worst-case query an ImmutableSet "
                + "of size %s versus size %s",
            haveSameHashesLarge.size(), haveSameHashesSmall.size()<a id="change">)</a>
        .<a id="change">that(ratio</a><a id="change">)</a>
        .isAtMost(2 * Math.log(largeSize) / Math.log(smallSize));
    // We allow up to 2x wobble in the constant factors.
  }
</code></pre>