<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>8149922bb0da0296e819b0c1508a455335e2876e,android/guava/src/com/google/common/reflect/TypeToken.java,TypeToken,getArraySubtype,#Class#,1239
</h3><h3>Before Change</h3><pre><code class='java'>

  private TypeToken&lt;? extends T&gt; getArraySubtype(Class&lt;?&gt; subclass) {
    // array is covariant. component type is subtype, so is the array type.
    TypeToken&lt;?&gt; componentSubtype = <a id="change">getComponentType()</a>.getSubtype(subclass.<a id="change">getComponentType()</a>);
    @SuppressWarnings("unchecked") // component type is subtype, so is array type.
    TypeToken&lt;? extends T&gt; result =
        (TypeToken&lt;? extends T&gt;)</code></pre><h3>After Change</h3><pre><code class='java'>
  }

  private TypeToken&lt;? extends T&gt; getArraySubtype(Class&lt;?&gt; subclass) {
    Class&lt;?&gt; <a id="change">subclassComponentType</a> = subclass.<a id="change">getComponentType()</a>;
    <a id="change">if (subclassComponentType == </a><a id="change">null</a><a id="change">) </a>{
      <a id="change">throw </a><a id="change">new IllegalArgumentException(subclass + </a><a id="change">" does not appear to be a subtype of "</a> + this<a id="change">)</a>;
    }
    // array is covariant. component type is subtype, so is the array type.
    // requireNonNull is safe because we call getArraySubtype only when isArray().
    TypeToken&lt;?&gt; componentSubtype =
        requireNonNull(<a id="change">getComponentType()</a>).getSubtype(subclassComponentType);
    @SuppressWarnings("unchecked") // component type is subtype, so is array type.
    TypeToken&lt;? extends T&gt; result =
        (TypeToken&lt;? extends T&gt;)</code></pre>