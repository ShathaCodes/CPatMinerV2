<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>689d2b3ba38cf49b56b091a2b1687aed58a46f91,guava/src/com/google/common/primitives/ImmutableLongArray.java,Builder,ensureRoomFor,#number#,293
</h3><h3>Before Change</h3><pre><code class='java'>
    private void ensureRoomFor(int numberToAdd) {
      int newCount = count + numberToAdd; // TODO(kevinb): check overflow now?
      if (newCount &gt; array.length) {
        long[] <a id="change">newArray</a> = <a id="change">new long[expandedCapacity(array.length, newCount)]</a>;
        <a id="change">System</a>.<a id="change">arraycopy(array</a>, <a id="change">0</a>, <a id="change">newArray</a>, <a id="change">0</a>, <a id="change">count</a><a id="change">)</a>;
        this.array = newArray;
      }
    }</code></pre><h3>After Change</h3><pre><code class='java'>
    private void ensureRoomFor(int numberToAdd) {
      int newCount = count + numberToAdd; // TODO(kevinb): check overflow now?
      if (newCount &gt; array.length) {
        array = <a id="change">Arrays</a>.<a id="change">copyOf(array</a>, <a id="change">expandedCapacity(</a>array.length, newCount<a id="change">))</a>;
      }
    }
</code></pre>