<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>0b556868431f6bc11c12e41ad18b7ea4b8b226f8,guava-tests/test/com/google/common/collect/MapMakerInternalMapTest.java,MapMakerInternalMapTest,testReclaimKey,#,871
</h3><h3>Before Change</h3><pre><code class='java'>

  public void testReclaimKey() {
    CountingRemovalListener&lt;Object, Object&gt; listener =
        <a id="change">new CountingRemovalListener&lt;Object, Object&gt;()</a>;
    MapMakerInternalMap&lt;Object, Object&gt; map = makeMap(createMapMaker()
        .concurrencyLevel(1)
        .initialCapacity(1)
        .maximumSize(SMALL_MAX_SIZE)
        .<a id="change">expireAfterWrite(</a>99999, SECONDS<a id="change">)</a>
        .<a id="change">removalListener(</a>listener<a id="change">)</a>);
    Segment&lt;Object, Object&gt; segment = map.segments[0];
    AtomicReferenceArray&lt;ReferenceEntry&lt;Object, Object&gt;&gt; table = segment.table;
    assertEquals(1, table.length());</code></pre><h3>After Change</h3><pre><code class='java'>
                .concurrencyLevel(1)
                .initialCapacity(1)
                .maximumSize(SMALL_MAX_SIZE)
                .<a id="change">expireAfterWrite(</a>99999, SECONDS<a id="change">)</a>);
    Segment&lt;Object, Object&gt; segment = map.segments[0];
    AtomicReferenceArray&lt;ReferenceEntry&lt;Object, Object&gt;&gt; table = segment.table;
    assertEquals(1, table.length());</code></pre>