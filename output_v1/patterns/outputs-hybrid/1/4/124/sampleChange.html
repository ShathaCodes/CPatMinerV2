<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>970ad12d61e18d5171f3a5e8e3d07c83f587d2ed,src/com/google/common/util/concurrent/MoreExecutors.java,MoreExecutors,getExitingExecutorService,#ThreadPoolExecutor#number#TimeUnit#,66
</h3><h3>Before Change</h3><pre><code class='java'>
   */
  public static ExecutorService getExitingExecutorService(
      ThreadPoolExecutor executor, long terminationTimeout, TimeUnit timeUnit) {
    executor.setThreadFactory(<a id="change">daemonThreadFactory(</a>executor.getThreadFactory()<a id="change">)</a>);

    ExecutorService service = Executors.unconfigurableExecutorService(executor);
</code></pre><h3>After Change</h3><pre><code class='java'>
   */
  public static ExecutorService getExitingExecutorService(
      ThreadPoolExecutor executor, long terminationTimeout, TimeUnit timeUnit) {
    executor.setThreadFactory(<a id="change">new ThreadFactoryBuilder()</a>
        .setDaemon(true)
        .<a id="change">setThreadFactory(</a>executor.getThreadFactory()<a id="change">)</a>
        .<a id="change">build()</a>);

    ExecutorService service = Executors.unconfigurableExecutorService(executor);
</code></pre>