<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>39fbaad1df64ba579bc41031dfbde99e5f4ba1d4,src/com/google/common/collect/ComputingConcurrentHashMap.java,ComputingSegment,compute,#K#number#,77
</h3><h3>Before Change</h3><pre><code class='java'>
          ComputingValueReference computingValueReference = null;
          lock();
          try {
            <a id="change">if (</a><a id="change">expires()) </a>{
              <a id="change">expireEntries()</a>;
            }

            // Try again--an entry could have materialized in the interim.</code></pre><h3>After Change</h3><pre><code class='java'>
          ComputingValueReference computingValueReference = null;
          lock();
          try {
            <a id="change">expireEntries()</a>;
            // cleanup failed computes
            // TODO(user): move cleanup to an executor, but then we need to
            // account for invalidated entries below</code></pre>